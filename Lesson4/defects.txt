to_list - лишние символы остаются в строке после вычислений
 AssertionError: assert [' ', ' ', ' ', ''] == [' ', ' ', ' ']

is_empty строка непустая, а состоит из пробелов. Но функция это игнорирует.
 [      -False] FAILED

